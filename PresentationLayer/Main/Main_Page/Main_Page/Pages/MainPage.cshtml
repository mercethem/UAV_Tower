@page
@model Main_Page.Pages.IndexModel
@{
    ViewData["Title"] = "Ana Sayfa";
}

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>

    <!-- Stil Kodları (CSS) -->
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #267871, #136a8a);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content {
            margin-bottom: 80px;
            padding: 20px;
            color: white;
        }

        /* Araç Çubuğu */
        .toolbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(28, 28, 28, 0.9);
            display: flex;
            justify-content: flex-start;
            align-items: center;
            padding: 15px;
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            z-index: 100; /* Toolbar her zaman üstte olacak */
        }

        .toolbar-button {
            background-color: #ffffff20;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 14px;
            cursor: pointer;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

            .toolbar-button:hover {
                background-color: #4CAF50;
                transform: translateY(-2px);
            }

            .toolbar-button:focus {
                outline: none;
            }

            .toolbar-button:active {
                background-color: #388e3c;
            }

        .icon-home::before {
            content: '🏠';
        }

        .icon-search::before {
            content: '📸';
        }
        /* Kamera ikonu */
        .icon-weather::before {
            content: '🌦️';
        }
        /* Hava durumu ikonu */
        .icon-flight::before {
            content: '✈️';
        }
        /* Uçak ikonu */
        .icon-radar::before {
            content: '🎯';
        }
        /* Radar ikonu */

        .modal-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 10px;
            padding: 20px;
            pointer-events: none;
            z-index: 50; /* Modal'lar toolbar'ın altında yer almalı */
        }

        .modal {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 8px;
            position: relative;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
            pointer-events: auto;
            transition: all 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 18px;
            font-weight: bold;
        }

        .modal-body {
            padding: 10px;
            font-size: 16px;
        }

        .modal .close-btn {
            background-color: transparent;
            color: white;
            border: none;
            font-size: 20px;
            cursor: pointer;
        }

            .modal .close-btn:hover {
                color: #ff5c5c;
            }
    </style>
</head>
<body>

    <div class="content">
        <h1></h1>
        <p></p>
    </div>

    <!-- Araç Çubuğu -->
    <div class="toolbar">
        <button class="toolbar-button" onclick="openModal('weatherModal')">
            <i class="icon-weather"></i> Weather
        </button>
        <button class="toolbar-button" onclick="openModal('flightModal')">
            <i class="icon-flight"></i> Flight
        </button>
        <button class="toolbar-button" onclick="openModal('searchModal')">
            <i class="icon-search"></i> Camera
        </button>
        <button class="toolbar-button" onclick="openModal('radarModal')">
            <i class="icon-radar"></i> Radar
        </button>
    </div>

    <!-- Modal Container -->
    <div id="modalContainer" class="modal-container"></div>

    <!-- JavaScript Kodları -->
    <script>
        let modalCount = 0;

        function openModal(modalId) {
            const modalContainer = document.getElementById("modalContainer");
            const modalExists = document.getElementById(modalId);

            if (!modalExists) {
                const modal = document.createElement("div");
                modal.classList.add("modal");
                modal.id = modalId;
                modal.innerHTML = `
                                    <div class="modal-header">
                                        <span>Modal - ${modalId}</span>
                                        <button class="close-btn" onclick="closeModal('${modalId}')">&times;</button>
                                    </div>
                                    <div class="modal-body">
                                        <p>Burada ${modalId} içeriği olacak.</p>
                                    </div>
                                `;
                modalContainer.appendChild(modal);
                modalCount++;
            }

            arrangeModals();
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.remove();
                modalCount--;
                arrangeModals();
            }
        }

        function arrangeModals() {
            const modalContainer = document.getElementById("modalContainer");
            const modals = modalContainer.getElementsByClassName("modal");

            // Modal sayısına göre düzeni ayarlıyoruz
            if (modalCount === 1) {
                modals[0].style.gridColumn = "span 2";
                modals[0].style.gridRow = "span 2";
            } else if (modalCount === 2) {
                modals[0].style.gridColumn = "span 1";
                modals[0].style.gridRow = "span 1";
                modals[1].style.gridColumn = "span 1";
                modals[1].style.gridRow = "span 1";
            } else if (modalCount === 3) {
                modals[0].style.gridColumn = "span 1";
                modals[0].style.gridRow = "span 1";
                modals[1].style.gridColumn = "span 1";
                modals[1].style.gridRow = "span 1";
                modals[2].style.gridColumn = "span 2";
                modals[2].style.gridRow = "span 2";
            } else if (modalCount === 4) {
                modals[0].style.gridColumn = "span 1";
                modals[0].style.gridRow = "span 1";
                modals[1].style.gridColumn = "span 1";
                modals[1].style.gridRow = "span 1";
                modals[2].style.gridColumn = "span 1";
                modals[2].style.gridRow = "span 1";
                modals[3].style.gridColumn = "span 1";
                modals[3].style.gridRow = "span 1";
            }
        }
    </script>
</body>
</html>
